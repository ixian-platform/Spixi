<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, shrink-to-fit=no, user-scalable=no">
    <title>Onboarding</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/*SL{SpixiThemeMode}">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="libs/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" type="text/css" href="libs/fontawesome/css/solid.min.css">
</head>
<body onload="prepareIntro()">
<div id="wrap" class="onboarding-container">
    <!-- Terms modal -->
    <div id="termsModal" class="spixi-modal-soft" style="display:none;">
        <div class="modal-content terms-container">
            <div class="spixi-modal-header">
                Terms of Use
            </div>

            <div class="spixi-modal-details scrollable-div" style="text-align: left;padding: 0 16px">
                <h4>1. Introduction</h4>
                <p>Spixi is a decentralised chat app powered by the Ixian Platform (the "Platform"), which utilises the
                    Ixian S2 network and Ixian DLT (blockchain component) to facilitate peer-to-peer communication, data
                    streaming, and digital asset transactions.</p>
                <p>By using Spixi, you acknowledge that you have read, understood, and agree to be bound by these Terms.
                    If you do not agree, you may not use the app.</p>

                <h4>2. Definitions</h4>
                <ul>
                    <li><strong>"Ixian Platform"</strong> refers to the decentralised platform for payments of digital
                        assets and data streaming.
                    </li>
                    <li><strong>"Ixian S2 Network"</strong> refers to the network handling data transfer and relaying
                        messages between peers.
                    </li>
                    <li><strong>"Ixian DLT"</strong> refers to the blockchain component of the Ixian Platform,
                        responsible for transactions and presence lists.
                    </li>
                    <li><strong>"Digital Asset"</strong> refers to IXI, the native digital asset of the Ixian Platform.
                    </li>
                    <li><strong>"Spixi Address"</strong> refers to a unique identifier assigned to each Spixi account.
                    </li>
                    <li><strong>"IXI Labs"</strong> refers to the publisher of the Spixi App.</li>
                </ul>

                <h4>3. Use of Spixi</h4>
                <p><strong>3.1</strong> You agree to use Spixi for lawful and legitimate purposes only.</p>
                <p><strong>3.2</strong> You must not use Spixi to transmit or distribute any content that is unlawful,
                    abusive, harassing, harmful, hateful, defamatory, obscene, or otherwise objectionable. This
                    includes, but is not limited to, threats of violence, hate speech, impersonation, or the promotion
                    of illegal activities.</p>

                <h4>4. Transaction Fees</h4>
                <p><strong>4.1</strong> When using Ixian DLT for transactions, you acknowledge that a micro-fee will be
                    charged for confirming and relaying the transaction.</p>

                <h4>5. Node Operation</h4>
                <p><strong>5.1</strong> IXI Labs is not responsible for node operation. Due to the decentralised nature
                    of the Ixian Platform and the fact that anybody can participate by running a node, IXI Labs in no
                    way guarantees the operation of the platform and Spixi is merely utilising the Ixian Platform to
                    facilitate the use of the application itself.</p>

                <h4>6. Digital Asset Wallet</h4>
                <p><strong>6.1</strong> The digital asset wallet integrated into Spixi is self-custodial, meaning you
                    are solely responsible for securing and accessing your IXI funds and contacts list.</p>
                <p><strong>6.2</strong> You agree to create a backup file and associated password to recover your Spixi
                    account. No other method of accessing the wallet exists.</p>

                <h4>7. Encryption</h4>
                <p>Spixi uses state-of-the-art encryption methods (RSA for key exchange with AES and ChaCha20 for
                    message encryption) to secure all messages exchanged between users.</p>

                <h4>8. Responsibility for Content and Transactions</h4>
                <p><strong>8.1</strong> You acknowledge that you are responsible for any content (messages, files, etc.)
                    transmitted through Spixi, including but not limited to its accuracy, completeness, and legality.
                </p>
                <p><strong>8.2</strong> You understand that the publisher has no liability or responsibility for
                    user-generated content, transactions, or messages exchanged between users.</p>
                <p><strong>8.3</strong> Spixi maintains a zero-tolerance policy for objectionable content, including but
                    not limited to hate speech, harassment, threats, or any unlawful, abusive, or offensive behavior.
                    Users may report such content, and in response, offending content may be removed from group chats,
                    and offending users may be excluded from those groups.</p>
                <h4>9. External Services</h4>
                <p>Spixi may integrate with external services (third-party apps, services, etc.). In such cases, you
                    agree to refer to the terms of use and privacy policies of those services as needed.</p>

                <h4>10. No Personal Data Collection</h4>
                <p>IXI Labs does not collect any personal data from users.</p>

                <h4>11. Compliance with Laws and Regulations</h4>
                <p>The publisher complies with the laws and regulations of Slovenia and is subject to applicable
                    jurisdiction.</p>

                <h4>12. Disclaimer of Liability</h4>
                <p>The publisher disclaims all liability for:</p>
                <ul>
                    <li>Any losses or damages resulting from the use of Spixi, including but not limited to loss of IXI
                        funds or any other data.
                    </li>
                    <li>Any unauthorised access to user accounts or content.</li>
                    <li>Any claims related to the accuracy, completeness, or legality of user-generated content.</li>
                    <li>Service availability</li>
                </ul>

                <h4>13. Indemnification</h4>
                <p>You agree to indemnify and hold harmless the publisher from any claims, damages, losses, or expenses
                    arising out of your use of Spixi, including but not limited to:</p>
                <ul>
                    <li>Unauthorised access to user accounts or content.</li>
                    <li>Claims related to the accuracy, completeness, or legality of user-generated content.</li>
                </ul>

                <h4>14. Governing Law</h4>
                <p>These Terms shall be governed by and construed in accordance with the laws of Slovenia.</p>

                <h4>15. Amendments</h4>
                <p>The publisher reserves the right to modify or update these Terms at any time without notice. Your
                    continued use of Spixi constitutes acceptance of any changes made to these Terms.</p>

                <h4>16. Entire Agreement</h4>
                <p>These Terms constitute the entire agreement between you and the publisher regarding your use of
                    Spixi, superseding all prior agreements or understandings.</p>
                <p>By using Spixi, you acknowledge that you have read, understood, and agree to be bound by these
                    Terms.</p>

            </div>

            <div class="spixi-modal-footer">
                <div class="row no-gutters" style="margin:16px;display: flex;flex-direction: column;gap: 8px;">
                    <div class="col">
                        <div id="terms_accept" class="spixi-flat-button">
                            Agree and Continue
                        </div>
                    </div>
                    <div class="col" style="margin-bottom: 10px;">
                        <div id="terms_decline" class="spixi-flat-button outline">
                            Decline
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <section class="language-section" id="languageSection">
        <div class="theme-switcher">
            <i id="darkTheme" class="fa fa-moon" onclick="toggleTheme(this)"></i>
            <i id="lightTheme" class="fa fa-sun" onclick="toggleTheme(this)"></i>
        </div>
        <img src="img/*SL{SpixiThemeName}/spixi-logo-full.svg" alt="spixi logo full" />
        <div class="language-choose-container">
            <span class="label-lg s-text-01">*SL{onboarding-choose-language}</span>
            <div class="custom-select-language" id="customSelect">
                <div class="selected-option label-sm" id="selectedOption">
                    <img src="img/flags/gb.png" alt="flag" class="flag">
                    <span>English</span>
                    <i class="fa fa-caret-down arrow" id="arrow"></i>
                </div>
                <div class="options label-sm" id="lang-options">
                    <div data-value="en-us" data-flag="gb"><img src="img/flags/gb.png" class="flag">
                        English
                    </div>
                    <div data-value="cn-cn" data-flag="cn"><img src="img/flags/cn.png" class="flag"> 中文
                    </div>
                    <div data-value="es-co" data-flag="co"><img src="img/flags/co.png" class="flag">
                        Español
                    </div>
                    <div data-value="de-de" data-flag="de"><img src="img/flags/de.png" class="flag">
                        Deutsch
                    </div>
                    <div data-value="id-id" data-flag="id"><img src="img/flags/id.png" class="flag">
                        Bahasa Indonesia
                    </div>
                    <div data-value="fr-fr" data-flag="fr"><img src="img/flags/fr.png" class="flag">
                        Français
                    </div>
                    <div data-value="it-it" data-flag="it"><img src="img/flags/it.png" class="flag">
                        Italiano
                    </div>
                    <div data-value="ja-jp" data-flag="jp"><img src="img/flags/jp.png" class="flag"> 日本語
                    </div>
                    <div data-value="lt-lt" data-flag="lt"><img src="img/flags/lt.png" class="flag">
                        Lietuvių
                    </div>
                    <div data-value="pt-br" data-flag="br"><img src="img/flags/br.png" class="flag">
                        Português (Brasil)
                    </div>
                    <div data-value="ru-ru" data-flag="ru"><img src="img/flags/ru.png" class="flag">
                        Русский
                    </div>
                    <div data-value="sl-si" data-flag="si"><img src="img/flags/si.png" class="flag">
                        Slovenščina
                    </div>
                    <div data-value="sr-sp" data-flag="rs"><img src="img/flags/rs.png" class="flag">
                        Srpski
                    </div>
                </div>
            </div>
            <div class="spixi-flat-button label-sm" style="width: 100%" onclick="onGetStarted()">
                *SL{onboarding-get-started} <i
                    class="fas fa-arrow-right"></i>
            </div>
        </div>
        <div id="version" class="bottom-version body-xs">Spixi V</div>
    </section>

    <section class="onboarding-section" id="onboardingSection" style="display: none">
        <div class="onboarding-stepper-header label-lg s-text-link-02">
            <span class="back" id="stepperBack" onclick="prevStep()"
                  style="display: none">*SL{onboarding-step-back}</span>
            <span class="skip" id="stepperSkip" onclick="location.href='ixian:create'">*SL{onboarding-step-skip}</span>
        </div>
        <div id="step1" class="single-step active">
            <img src="img/*SL{SpixiThemeName}/onboarding/step1.svg" alt="step-1"/>
            <span class="heading-xs">*SL{onboarding-step-1-title}</span>
            <div class="body-sm">*SL{onboarding-step-1-subtitle}</div>
        </div>
        <div id="step2" class="single-step">
            <img src="img/*SL{SpixiThemeName}/onboarding/step2.svg" alt="step-2"/>
            <span class="heading-xs">*SL{onboarding-step-2-title}</span>
            <div class="body-sm">*SL{onboarding-step-2-subtitle}</div>
        </div>
        <div id="step3" class="single-step">
            <img src="img/*SL{SpixiThemeName}/onboarding/step3.svg" alt="step-3"/>
            <span class="heading-xs">*SL{onboarding-step-3-title}</span>
            <div class="body-sm">*SL{onboarding-step-3-subtitle}</div>
        </div>
        <div id="step4" class="single-step">
            <img src="img/*SL{SpixiThemeName}/onboarding/step4.svg" alt="step-4"/>
            <span class="heading-xs">*SL{onboarding-step-4-title}</span>
            <div class="body-sm">*SL{onboarding-step-4-subtitle}</div>
        </div>
        <div class="onboarding-stepper-footer">
            <div id="step-nav"></div>
            <div id="stepperNext" onclick="nextStep()" class="spixi-flat-button label-sm" style="width: 100%">
                *SL{onboarding-step-next} <i
                    class="fa fa-arrow-right"></i></div>
            <div onclick="location.href='ixian:create'" id="stepperGetStarted" class="spixi-flat-button label-sm"
                 style="width: 100%;display: none">*SL{onboarding-get-started}
                <i class="fa fa-arrow-right"></i></div>
        </div>
    </section>
</div>

<script src="js/spixi.js"></script>
<script type="text/javascript">
    const steps = Array.from(document.querySelectorAll('.single-step'));
    let currentStep = 1;
    const navContainer = document.getElementById('step-nav');
    let selectedLang = 'en-us'; // Default language
    let isSelectOpen = false;

    const selectedOption = document.getElementById('selectedOption');
    const options = document.getElementById('lang-options');
    const arrow = document.getElementById('arrow');

    selectedOption.addEventListener('click', () => {
        isSelectOpen = !isSelectOpen;
        options.style.display = isSelectOpen ? 'block' : 'none';
        arrow.classList.toggle('open', isSelectOpen);
        selectedOption.classList.toggle('open', isSelectOpen);
    });


        options.querySelectorAll('div').forEach(option => {
            option.addEventListener('click', () => {
                const value = option.getAttribute('data-value');
                const flagCode = option.getAttribute('data-flag');
                const label = option.textContent.trim();

                selectedLang = value;
                selectedOption.innerHTML = `
        <img src="img/flags/${flagCode}.png" class="flag" alt="flag" />
        <span>${label}</span>
        <i class="fa fa-caret-down arrow ${isSelectOpen ? 'open' : ''}" id="arrow"></i>
      `;

                arrow.classList.toggle('open', false);
                selectedOption.classList.toggle('open', false);

                isSelectOpen = false;
                options.style.display = 'none';
            });
        });

    steps.forEach((_, index) => {
        const dot = document.createElement('div');
        dot.classList.add('step-dot');
        navContainer.appendChild(dot);
    })

    function updateNavDots() {
        const dots = document.querySelectorAll('.step-dot');
        dots.forEach((dot, index) => {
            dot.classList.toggle('active', index === (currentStep - 1));
        });
    }

    function toggleStep() {
        steps.forEach(el => el.classList.remove('active'));
        document.getElementById(`step${currentStep}`).classList.add('active');
        updateNavDots();
        if (currentStep > 1) {
            document.getElementById("stepperBack").style.display = "block";
            if (currentStep === steps.length) {
                document.getElementById("stepperNext").style.display = "none";
                document.getElementById("stepperGetStarted").style.display = "flex";
            } else {
                document.getElementById("stepperNext").style.display = "flex";
                document.getElementById("stepperGetStarted").style.display = "none";
            }
        } else {
            document.getElementById("stepperBack").style.display = "none";
        }
    }

    function nextStep() {
        if (currentStep < steps.length) {
            currentStep++;
            toggleStep()
        }
    }

    function prevStep() {
        if (currentStep > 1) {
            currentStep--;
            toggleStep(currentStep)
        }
    }

    updateNavDots();

    function changeLanguage(langCode) {
        location.href = "ixian:language:" + langCode;
    }

    function setVersion(version) {
        if (version.startsWith("spixi-")) {
            version = "v" + version.substring(6);
        }
        document.getElementById("version").innerHTML = version;
    }

    function prepareIntro() {
        initialAppearance("*SL{SpixiThemeName}");
        location.href = "ixian:introload";
    }

    function showTerms() {
        document.getElementById("termsModal").style.display = "flex";
        document.getElementById("termsModal").style.justifyContent = "center";
    }

    document.getElementById("terms_accept").onclick = function () {
        document.getElementById("termsModal").style.display = "none";
        location.href = "ixian:accept";
    }

    function onGetStarted() {
        if (!selectedLang) {
            return;
        }
        changeLanguage(selectedLang)
    }

    function showOnboardingSection() {
        document.getElementById("languageSection").style.display = "none";
        document.getElementById("onboardingSection").style.display = "flex";
    }

    function initialAppearance(name) {
        if (name === "dark") {
            document.getElementById("darkTheme").style.display = "none";
            document.getElementById("lightTheme").style.display = "block";
        } else {
            document.getElementById("darkTheme").style.display = "block";
            document.getElementById("lightTheme").style.display = "none";
        }
    }

    function toggleTheme(node) {
        if (node && node.id === "darkTheme") {
            location.href = "ixian:appearance:" + 2;
        } else if (node && node.id === "lightTheme") {
            location.href = "ixian:appearance:" + 1;
        }
    }
</script>
</body>
</html>